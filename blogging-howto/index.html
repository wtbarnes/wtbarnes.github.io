<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Blogging with Pelican, Jupyter, GitHub, and Travis CI - Will Barnes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




<style type="text/css">

/*some stuff for output/input prompts*/
div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.cell.selected{border-radius:4px;border:thin #ababab solid}
div.cell.edit_mode{border-radius:4px;border:thin #008000 solid}
div.cell{width:100%;padding:5px 5px 5px 0;margin:0;outline:none}
div.prompt{min-width:11ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}
@media (max-width:480px){div.prompt{text-align:left}}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;line-height:1.21429em}
div.prompt:empty{padding-top:0;padding-bottom:0}
div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;}
div.inner_cell{width:90%;}
div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;}
div.input_prompt{color:navy;border-top:1px solid transparent;}
div.output_wrapper{margin-top:5px;position:relative;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:4px;-webkit-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);-moz-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);}
div.output_collapsed{margin:0px;padding:0px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
div.out_prompt_overlay{height:100%;padding:0px 0.4em;position:absolute;border-radius:4px;}
div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000000;-moz-box-shadow:inset 0 0 1px #000000;box-shadow:inset 0 0 1px #000000;background:rgba(240, 240, 240, 0.5);}
div.output_prompt{color:darkred;}

a.anchor-link:link{text-decoration:none;padding:0px 20px;visibility:hidden;}
h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible;}
/* end stuff for output/input prompts*/


.highlight-ipynb .hll { background-color: #ffffcc }
.highlight-ipynb  { background: #f8f8f8; }
.highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */
.highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */
.highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */
.highlight-ipynb .o { color: #666666 } /* Operator */
.highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */
.highlight-ipynb .ge { font-style: italic } /* Generic.Emph */
.highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */
.highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */
.highlight-ipynb .go { color: #888888 } /* Generic.Output */
.highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */
.highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */
.highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */
.highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */
.highlight-ipynb .m { color: #666666 } /* Literal.Number */
.highlight-ipynb .s { color: #BA2121 } /* Literal.String */
.highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */
.highlight-ipynb .nb { color: #008000 } /* Name.Builtin */
.highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight-ipynb .no { color: #880000 } /* Name.Constant */
.highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */
.highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight-ipynb .nf { color: #0000FF } /* Name.Function */
.highlight-ipynb .nl { color: #A0A000 } /* Name.Label */
.highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight-ipynb .nv { color: #19177C } /* Name.Variable */
.highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */
.highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */
.highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */
.highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */
.highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */
.highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */
.highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */
.highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */
.highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */
.highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */
.highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */
.highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */
</style>

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
div.entry-content {
  overflow: visible;
  padding: 8px;
}
.input_area {
  padding: 0.2em;
}

a.heading-anchor {
 white-space: normal;
}

.rendered_html
code {
 font-size: .8em;
}

pre.ipynb {
  color: black;
  background: #f7f7f7;
  border: none;
  box-shadow: none;
  margin-bottom: 0;
  padding: 0;
  margin: 0px;
  font-size: 13px;
}

/* remove the prompt div from text cells */
div.text_cell .prompt {
    display: none;
}

/* remove horizontal padding from text cells, */
/* so it aligns with outer body text */
div.text_cell_render {
    padding: 0.5em 0em;
}

img.anim_icon{padding:0; border:0; vertical-align:middle; -webkit-box-shadow:none; -box-shadow:none}
</style>

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>

<link rel="canonical" href="/blogging-howto/">

        <meta name="author" content="Will Barnes" />
        <meta name="keywords" content="pelican,blogging,jupyter,github,travis-ci" />
        <meta name="description" content="A thorough walkthrough of how I setup this blog using Pelican so that I can write posts using Jupyter notebooks and publish it with GitHub Pages and Travis CI." />

        <meta property="og:site_name" content="Will Barnes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Blogging with Pelican, Jupyter, GitHub, and Travis CI"/>
        <meta property="og:url" content="/blogging-howto/"/>
        <meta property="og:description" content="A thorough walkthrough of how I setup this blog using Pelican so that I can write posts using Jupyter notebooks and publish it with GitHub Pages and Travis CI."/>
        <meta property="article:published_time" content="2016-03-31" />
            <meta property="article:section" content="Pelican" />
            <meta property="article:tag" content="pelican" />
            <meta property="article:tag" content="blogging" />
            <meta property="article:tag" content="jupyter" />
            <meta property="article:tag" content="github" />
            <meta property="article:tag" content="travis-ci" />
            <meta property="article:author" content="Will Barnes" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="/theme/css/bootstrap.readable.min.css" type="text/css"/>
    <link href="/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="/theme/css/pygments/emacs.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/style.css" type="text/css"/>

        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Will Barnes ATOM Feed"/>



        <link href="/feeds/pelican.atom.xml" type="application/atom+xml" rel="alternate"
              title="Will Barnes Pelican ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
Will Barnes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="/contact/">
                             Contact
                          </a></li>
                         <li><a href="/cv/">
                             CV
                          </a></li>
                         <li><a href="/research/">
                             Research
                          </a></li>
                         <li><a href="/software/">
                             Software
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="/blogging-howto/"
                       rel="bookmark"
                       title="Permalink to Blogging with Pelican, Jupyter, GitHub, and Travis CI">
                        Blogging with Pelican, Jupyter, GitHub, and Travis CI
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-03-31T01:21:00-05:00"> Thu 31 March 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="/tag/pelican.html">pelican</a>
        /
	<a href="/tag/blogging.html">blogging</a>
        /
	<a href="/tag/jupyter.html">jupyter</a>
        /
	<a href="/tag/github.html">github</a>
        /
	<a href="/tag/travis-ci.html">travis-ci</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><strong>EDIT:</strong> Updated push commands in Makefile to fix <code>GH_TOKEN</code> security flaw.</p>
<p>As a graduate student in physics, I wanted to maintain a personal webpage to advertise my current research projects to other researchers in my field and for the purpose of shamelessly self-promoting the few skills I've gained in graduate school in case I might one day want a real job.</p>
<p>I had previously built a single-page website that was hosted on my department's archaic SuSE Enterprise Linux server. This had a few downsides. To add content meant editing the raw HTML which often discouraged me from updating my page. Additionally, once I had made the desired changes on my local copy, I had to push the changes to GitHub and then ssh into the server and pull down the changes manually.</p>
<p>Pelican (and other static-site generators like <a href="https://jekyllrb.com/">Jekyll</a>) solves this problem by letting you write all of your posts in Markdown and then auto-generating the HTML. I also found that <a href="http://cyrille.rossant.net/pelican-github/">several other people had looked into writing blog posts with Jupyter notebooks</a> and had even <a href="http://danielfrg.com/blog/2013/02/16/blogging-pelican-ipython-notebook/">written Pelican plugins</a> to make this process easier! This made Pelican a natural choice for someone already familiar with Python and who wants to write blog posts that may include a mixture of equations, code, figures, and (Markdown) text.</p>
<p>Below I've detailed how I setup this blog using Pelican so that I can write posts in both Markdown and Jupyter notebooks and then publish the site on GitHub Pages using Travis CI. I've made sure to link to the many blogs/docs that helped me so make sure to check out all of those links as well.</p>
<h2>GitHub Pages</h2>
<p>Because we're going to host the blog on GitHub, we need to <a href="https://pages.github.com/">set up a GitHub Pages repository</a>. Basically this just involves creating a repository with the name <code>&lt;username&gt;.github.io</code> (where <code>&lt;username&gt;</code> is your GitHub username). Once you've created the repository, clone it and change into that directory:</p>
<div class="highlight"><pre><span></span>$ git clone https://github.com/&lt;username&gt;.github.io.git
$ <span class="nb">cd</span> &lt;username&gt;.github.io
</pre></div>


<p>For a user site, GitHub will look for content on the <code>master</code> branch of the repo. Because we want to separate the files we'll be authoring and the actual content that will get served to the page, we'll create a new branch, call it <code>sources</code>, where we'll do all of our work. Create the branch and switch to it:</p>
<div class="highlight"><pre><span></span>$ git branch sources
$ git checkout sources
</pre></div>


<h2>Pelican</h2>
<p><a href="http://blog.getpelican.com/">Pelican</a> is a static site-generator written in Python. Think <a href="https://jekyllrb.com/">Jekyll</a>, but in Python instead of Ruby. Because we'll be working in Python, we can easily leverage the power of virtual environments via <code>conda</code>. You can also do this with <code>virtualenv</code>; most of the setup commands are roughly the same. (<strong>Note:</strong> If you aren't using <a href="https://www.continuum.io/">Anaconda</a> to manage your Python installation, you're missing out.)</p>
<p>Let's setup an environment for our webpage and give it an original name, and activate it,</p>
<div class="highlight"><pre><span></span>$ conda create --name webpage <span class="nv">python</span><span class="o">=</span>2.7
$ <span class="nb">source</span> activate webpage
</pre></div>


<p>Because we've isolated ourselves from the rest of our Python installation, we can easily manage all of the dependencies we need to get our blog up and running. First, let's install Pelican, Markdown and <code>ghp-import</code> (for force pushing content to <code>master</code>):</p>
<div class="highlight"><pre><span></span>$ pip install pelican markdown ghp-import
</pre></div>


<p>Additionally, I found that I needed Jupyter and IPython in order to get the IPython notebooks plugin to work so let's go ahead and grab that too. (<strong>Note:</strong> Jupyter comes with a lot of dependencies so this may cause you're install to be a bit bloated. Some packages can probably be safely removed though I haven't looked into this):</p>
<div class="highlight"><pre><span></span>$ pip install jupyter ipython
</pre></div>


<p>This should be all the dependencies we need so let's go ahead and save all of the required modules:</p>
<div class="highlight"><pre><span></span>$ pip freeze &gt; requirements.txt
</pre></div>


<p>This will make our Travis CI build much easier to configure.</p>
<p>It's finally time to build the site. To build the directory structure and create some of the needed files:</p>
<div class="highlight"><pre><span></span>$ pelican-quickstart
</pre></div>


<p>Answer all of the questions according to how you want to setup your site. There will be a series of questions relating to how you want to publish your webpage. Answer <code>n</code> to all (<code>FTP</code>,<code>SSH</code>,<code>Dropbox</code>,<code>S3</code>,<code>Rackspace Cloud Files</code>) except <code>GitHub pages</code>. This will auto-generate a Makefile option to make publishing easy. The resulting directory tree should look something like this:</p>
<div class="highlight"><pre><span></span>├── Makefile
├── content/          #put your content here
├── develop_server.sh
├── fabfile.py
├── output/           #auto-generated content will go here
├── pelicanconf.py
└── publishconf.py
</pre></div>


<p>The <code>pelicanconf.py</code> file defines all of the configuration for your site and has been pre-populated with the answers you supplied during the quickstart.</p>
<p>Pelican assumes any <code>.md</code> file inside of <code>content/</code> is a blog entry and will treat it as such. See <a href="http://docs.getpelican.com/en/stable/content.html">here</a> for more info on authoring content. Put any non-blog pages (e.g. "About", "Contact", "CV", etc.) in a subdirectory <code>content/pages/</code>. Pelican will treat these as <a href="http://docs.getpelican.com/en/stable/content.html#pages">non-chronological</a> rather than just listing them in the blogroll.</p>
<h2>Testing Locally</h2>
<p>Time to make some content and see if this worked! Write a test blog post and put it in <code>content/</code> and a test About-me page and put it in <code>content/pages/</code>:</p>
<h3><code>content/my_first_blog.md</code></h3>
<div class="highlight"><pre><span></span><span class="n">Title</span><span class="o">:</span> <span class="n">Blogging</span> <span class="k">with</span> <span class="n">Pelican</span><span class="o">,</span> <span class="n">Jupyter</span><span class="o">,</span> <span class="n">GitHub</span><span class="o">,</span> <span class="n">and</span> <span class="n">Travis</span> <span class="n">CI</span>
<span class="n">Date</span><span class="o">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">02</span> <span class="mi">18</span><span class="o">:</span><span class="mi">05</span>
<span class="n">Category</span><span class="o">:</span> <span class="n">Pelican</span>
<span class="n">Tags</span><span class="o">:</span> <span class="n">pelican</span><span class="o">,</span> <span class="n">blogging</span><span class="o">,</span> <span class="n">test</span>
<span class="n">slug</span><span class="o">:</span><span class="n">a_test</span>
<span class="n">Authors</span><span class="o">:</span> <span class="n">Foo</span> <span class="n">Bar</span>
<span class="n">Summary</span><span class="o">:</span> <span class="n">A</span> <span class="n">test</span> <span class="n">blog</span> <span class="n">entry</span>

<span class="n">This</span> <span class="k">is</span> <span class="n">my</span> <span class="n">first</span> <span class="n">blog</span> <span class="n">entry</span> <span class="n">and</span> <span class="n">it</span> <span class="k">is</span> <span class="n">a</span> <span class="n">test</span><span class="o">.</span>
</pre></div>


<h3><code>content/pages/about.md</code></h3>
<div class="highlight"><pre><span></span>---
Title: About
---

This is the about me page. Here are some things about me.
</pre></div>


<p>Now that we've written some content, we need to generate the raw HTML. The Makefile generated by <code>pelican-quickstart</code> gives us an option for doing this:</p>
<div class="highlight"><pre><span></span>$ make html
</pre></div>


<p>If you take a look in <code>output/</code>, you'll see all of your content there. However, for testing your site locally, it'd be nice to have these served and updated automatically. Again, the makefile provides us this option:</p>
<div class="highlight"><pre><span></span>$ make devserver
</pre></div>


<p>If you navigate to <code>localhost:8000</code>, you should see your page. As you make changes (e.g. add posts and pages, change themes, etc.), you should see these reflected your served HTML. To stop the server:</p>
<div class="highlight"><pre><span></span>$ make stopserver
</pre></div>


<h2>Installing themes</h2>
<p>To customize the look of your webpage, Pelican provides the <code>THEME</code> variable in <code>pelicanconf.py</code>. <a href="http://www.pelicanthemes.com/">There are many different Pelican themes</a> and an official repository is maintained <a href="https://github.com/getpelican/pelican-themes">here</a>. This website uses the <a href="https://github.com/DandyDev/pelican-bootstrap3">pelican-bootstrap3 theme</a>. To install a theme, first create a directory to store them (you may want to switch between a few):</p>
<div class="highlight"><pre><span></span>$ mkdir themes/
</pre></div>


<p>You can either just copy the directory containing the theme you want into here or add the theme repository as a submodule. I've opted for the latter so that I can incorporate any updates to the theme:</p>
<div class="highlight"><pre><span></span>$ <span class="nb">cd</span> themes/
$ git submodule add https://github.com/&lt;theme_user&gt;/&lt;theme_repo&gt;.git
</pre></div>


<p>Pelican also includes <a href="http://docs.getpelican.com/en/stable/pelican-themes.html">a tool for installing and managing your themes</a>. Once you have the theme installed, set the <code>THEME</code> variable in <code>pelicanconf.py</code> appropriately:</p>
<div class="highlight"><pre><span></span><span class="n">THEME</span><span class="o">=</span><span class="s1">&#39;themes/&lt;my_installed_theme&gt;&#39;</span>
</pre></div>


<h2>Writing posts with Jupyter notebooks</h2>
<p>To use Jupyter notebooks as posts, we'll use <a href="http://docs.getpelican.com/en/stable/plugins.html">plugins</a>, a way to easily extend the functionality of your Pelican webpage. An official repository of plugins is maintained <a href="https://github.com/getpelican/pelican-plugins">here</a>. We'll be using the <a href="https://github.com/danielfrg/pelican-ipynb">pelican-ipynb</a> which at the time of this writing has not yet been incorporated into the official plugin repository.</p>
<p>Following <a href="http://cyrille.rossant.net/pelican-github/">this approach by Cyrille Rossant</a>, we're going to have a directory for custom plugins(i.e. not in the official repo), <code>plugins/</code>, and a directory with all of the official plugins, <code>pelican-plugins</code>. The latter can be added as a submodule. You can off course pick-and-choose which plugins you want and just copy and paste those into a single directory if you want.</p>
<div class="highlight"><pre><span></span>$ mkdir plugins
$ git submodule add https://github.com/getpelican/pelican-plugins.git
</pre></div>


<p>We need to tell Pelican where to look for these plugins and which ones we'll be using. pelican-ipynb depends on <a href="https://github.com/getpelican/pelican-plugins/tree/master/liquid_tags">Jake Vanderplas's liquid_tags plugin</a> (included in <code>pelican-plugins</code>) so we'll need to point to that one too. In <code>pelicanconf.py</code>:</p>
<div class="highlight"><pre><span></span><span class="n">PLUGIN_PATHS</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pelican-plugins&#39;</span><span class="p">,</span><span class="s1">&#39;plugins&#39;</span><span class="p">]</span>
<span class="n">PLUGINS</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;liquid_tags.notebook&#39;</span><span class="p">,</span><span class="s1">&#39;ipynb.liquid&#39;</span><span class="p">,]</span>
</pre></div>


<p>Follwing the <a href="https://github.com/danielfrg/pelican-ipynb">pelican-ipynb installation guide</a>, I've opted for "Mode B: Liquid Tags". This will essentially allow us to inject notebook content straight into a normal <code>.md</code> file. First, create a directory to store the notebooks,</p>
<div class="highlight"><pre><span></span>$ mkdir content/notebooks
</pre></div>


<p>and add a notebook to this new directory (e.g. <code>contents/notebooks/my_test_notebook.ipynb</code>). Then tell Pelican to preserve the path to this directory so that we can pull content from it. In <code>pelicanconf.py</code>:</p>
<div class="highlight"><pre><span></span><span class="n">STATIC</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;notebooks&#39;</span><span class="p">]</span>
</pre></div>


<p>Finally, we can add this as a blog entry by injecting into a normal Markdown blog entry, <code>contents/hello_jupyter.md</code>:</p>
<div class="highlight"><pre><span></span><span class="n">Title</span><span class="o">:</span> <span class="n">Hello</span> <span class="n">Pelican</span> <span class="k">with</span> <span class="n">Jupyter</span><span class="o">!</span>
<span class="n">Date</span><span class="o">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">03</span> <span class="mi">0</span><span class="o">:</span><span class="mi">54</span>
<span class="n">Category</span><span class="o">:</span> <span class="n">Pelican</span>
<span class="n">Tags</span><span class="o">:</span> <span class="n">pelican</span><span class="o">,</span> <span class="n">python</span><span class="o">,</span> <span class="n">jupyter</span>
<span class="n">slug</span><span class="o">:</span><span class="n">hello</span><span class="o">-</span><span class="n">jupyter</span>
<span class="n">Authors</span><span class="o">:</span> <span class="n">Foo</span> <span class="n">Bar</span>
<span class="n">Summary</span><span class="o">:</span> <span class="n">This</span> <span class="n">blog</span> <span class="n">post</span> <span class="n">was</span> <span class="n">written</span> <span class="k">in</span> <span class="n">a</span> <span class="n">Jupyter</span> <span class="n">notebook</span><span class="o">.</span> <span class="n">It</span> <span class="n">can</span> <span class="n">be</span> <span class="n">included</span> <span class="k">in</span> <span class="n">a</span> <span class="n">post</span> <span class="n">using</span> <span class="n">a</span> <span class="n">liquid</span> <span class="n">tag</span><span class="o">.</span>

<span class="o">{%</span> <span class="n">notebook</span> <span class="n">notebooks</span><span class="o">/</span><span class="n">my_test_notebook</span><span class="o">.</span><span class="na">ipynb</span> <span class="o">%}</span>
</pre></div>


<p>This post should now be available on your main blog roll and the content should all be rendered from your Jupyter notebook, figures, LaTeX, Markdown, and all!</p>
<h2>Automatic Builds with Travis CI</h2>
<p>Now we want to publish our site with GitHub Pages. By default, any content on the <code>master</code> branch of your repo will be available at <code>&lt;username&gt;.github.io</code>. Every time we edit our content on the <code>sources</code> branch and push it to GitHub, we would like these changes to be reflected on our actual site.
A continuous integration service like <a href="https://travis-ci.org/">Travis CI</a> allows you to leverage GitHub's web hooks to trigger builds of your website at each commit to <code>sources</code>.</p>
<p>Login to Travis CI with your GitHub username and enable your <code>&lt;username&gt;.github.io</code> repository. Then we need to provide a <code>.travis.yml</code> configuration file to tell Travis what to do at each commit. The <code>.travis.yml</code> for this blog looks like:</p>
<div class="highlight"><pre><span></span><span class="n">language</span><span class="o">:</span> <span class="n">python</span>
<span class="n">python</span><span class="o">:</span>
<span class="o">-</span> <span class="s1">&#39;2.7&#39;</span>
<span class="n">sudo</span><span class="o">:</span> <span class="n">required</span>
<span class="n">branches</span><span class="o">:</span>
  <span class="n">only</span><span class="o">:</span>
  <span class="o">-</span> <span class="n">sources</span>
<span class="n">install</span><span class="o">:</span>
<span class="o">-</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="na">txt</span>
<span class="n">script</span><span class="o">:</span>
<span class="o">-</span> <span class="n">make</span> <span class="n">publish</span> <span class="n">github</span>
<span class="n">env</span><span class="o">:</span>
  <span class="n">global</span><span class="o">:</span>
    <span class="n">secure</span><span class="o">:</span> <span class="n">xxxxxxxxx</span>
</pre></div>


<p>This tells Travis that we're using Python, version 2.7, that we only want to trigger builds when pushing to the <code>sources</code> branch, to install every package in our <code>requirements.txt</code> file, and to run the <code>make</code> with the <code>publish github</code> option. This will use <code>ghp-import</code> to put a copy of everything in <code>output/</code> on <code>master</code> and then do a force push to <code>master</code></p>
<p>This last line contains a key that will allow Travis to do a force push to the <code>master</code> branch. Generate using <a href="http://blog.mathieu-leplatre.info/publish-your-pelican-blog-on-github-pages-via-travis-ci.html">the instructions listed here</a>. Finally, in order to give Travis all the permissions it needs for the force push, replace the second line in the <code>github: publish</code> block of <code>Makefile</code> with:</p>
<div class="highlight"><pre><span></span>@git push -fq https://<span class="si">${</span><span class="nv">GH_TOKEN</span><span class="si">}</span>@github.com/<span class="si">${</span><span class="nv">TRAVIS_REPO_SLUG</span><span class="si">}</span> <span class="k">$(</span>GITHUB_PAGES_BRANCH<span class="k">)</span>
</pre></div>


<p>The <code>@</code> symbol in front of this line in the Makefile and the <code>-q</code> flag suppress all output related to this step in the build. Not doing so will result in your <code>GH_TOKEN</code>, which we've gone to the trouble of encrypting, being published to your public Travis build logs.</p>
<p>That's pretty much it. Author some posts, add a theme and push to the <code>sources</code> branch and Travis and GitHub should take care of the rest. You can see any errors that get thrown by going to your Travis CI homepage. For a complete working example, <a href="https://github.com/wtbarnes/wtbarnes.github.io/tree/sources">check out the source for this site on my GitHub page.</a></p>
<h2>Other Great Resources</h2>
<p>Without the plethora of blogs and tutorials on Pelican, GitHub, and Travis that already exist, setting up this blog would have been <strong>much</strong> more difficult (read <em>impossible</em>). Here are some resources that I found really helpful while putting this all together:</p>
<ul>
<li><a href="http://cyrille.rossant.net/pelican-github/">Setting up a blog with Pelican and GitHub Pages, Cyrille Rossant</a></li>
<li><a href="https://pages.github.com/">GitHub Pages</a></li>
<li><a href="http://blog.mathieu-leplatre.info/publish-your-pelican-blog-on-github-pages-via-travis-ci.html">Publish your Pelican blog on Github pages via Travis-CI, Mathieu Leplatre</a></li>
<li><a href="http://docs.getpelican.com/en/3.6.3/">Pelican Docs</a></li>
<li><a href="http://www.pelicanthemes.com/">Many examples of Pelican Themes</a></li>
<li><a href="http://danielfrg.com/blog/2013/02/16/blogging-pelican-ipython-notebook/">Blogging with IPython notebooks in pelican, Daniel Rodriguez</a></li>
</ul>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="/images/about_me.png"/>
        </p>
    <p>
        <strong>About Will Barnes</strong><br/>
        PhD student at Rice University studying plasma processes in million-degree solar coronal loops.
    </p>
</div>
<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://twitter.com/wtbarnes_"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="https://github.com/wtbarnes"><i class="fa fa-github-square fa-lg"></i> github</a></li>
                <li class="list-group-item"><a href="http://stackoverflow.com/users/4717663/will-barnes"><i class="fa fa-stack-overflow fa-lg"></i> stackoverflow</a></li>
              </ul>
            </li>






    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Will Barnes
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="/theme/js/respond.min.js"></script>

    <script src="/theme/js/bodypadding.js"></script>
    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'wtbarnes',
                count: 3,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->

</body>
</html>